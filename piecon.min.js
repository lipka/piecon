(function(){var e={};var t=null;var n=null;var r=null;var i=null;var s={};var o={color:"#ff0084",background:"#bbb",shadow:"#fff",fallback:false};var u=!!window.devicePixelRatio;var a=function(){var e=navigator.userAgent.toLowerCase();return function(t){return e.indexOf(t)!==-1}}();var f={ie:a("msie"),chrome:a("chrome"),webkit:a("chrome")||a("safari"),safari:a("safari")&&!a("chrome"),mozilla:a("mozilla")&&!a("chrome")&&!a("safari")};var l=function(){var e=document.getElementsByTagName("link");for(var t=0,n=e.length;t<n;t++){if(e[t].getAttribute("rel")==="icon"||e[t].getAttribute("rel")==="shortcut icon"){return e[t]}}return false};var c=function(){var e=document.getElementsByTagName("link");var t=document.getElementsByTagName("head")[0];for(var n=0,r=e.length;n<r;n++){if(e[n].getAttribute("rel")==="icon"||e[n].getAttribute("rel")==="shortcut icon"){t.removeChild(e[n])}}};var h=function(e){c();var t=document.createElement("link");t.type="image/x-icon";t.rel="icon";t.href=e;document.getElementsByTagName("head")[0].appendChild(t)};var p=function(){if(!i){i=document.createElement("canvas");if(u){i.width=32;i.height=32}else{i.width=16;i.height=16}}return i};var d=function(e){var n=p();var r=n.getContext("2d");var e=e||0;var i=t;var o=new Image;o.onload=function(){if(r){r.clearRect(0,0,n.width,n.height);r.beginPath();r.moveTo(n.width/2,n.height/2);r.arc(n.width/2,n.height/2,Math.min(n.width/2,n.height/2),0,Math.PI*2,false);r.fillStyle=s.shadow;r.fill();r.beginPath();r.moveTo(n.width/2,n.height/2);r.arc(n.width/2,n.height/2,Math.min(n.width/2,n.height/2)-2,0,Math.PI*2,false);r.fillStyle=s.background;r.fill();if(e>0){r.beginPath();r.moveTo(n.width/2,n.height/2);r.arc(n.width/2,n.height/2,Math.min(n.width/2,n.height/2)-2,-.5*Math.PI,(-.5+2*e/100)*Math.PI,false);r.lineTo(n.width/2,n.height/2);r.fillStyle=s.color;r.fill()}h(n.toDataURL())}};if(!i.match(/^data/)){o.crossOrigin="anonymous"}o.src=i};var v=function(e){if(e>0){document.title="("+e+"%) "+r}else{document.title=r}};e.setOptions=function(e){s={};for(var t in o){s[t]=e.hasOwnProperty(t)?e[t]:o[t]}return this};e.setProgress=function(e){if(!r){r=document.title}if(!n||!t){var i=l();n=t=i?i.getAttribute("href"):"/favicon.ico"}if(!isNaN(parseFloat(e))&&isFinite(e)){if(!p().getContext||f.ie||f.safari||s.fallback==true){return v(e)}else if(s.fallback==="force"){v(e)}return d(e)}return false};e.reset=function(){if(r){document.title=r}if(n){t=n;h(t)}};e.setOptions(o);window.Piecon=e})()